{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Chat(_ref){let{socket,room}=_ref;const[message,setMessage]=useState(\"\");const[messages,setMessages]=useState([]);useEffect(()=>{socket.on(\"message\",msg=>{setMessages(prev=>[...prev,msg]);});return()=>socket.off(\"message\");},[socket]);const sendMessage=()=>{if(message.trim()){socket.emit(\"message\",{room,message});setMessage(\"\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Room: \",room]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Type your message\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Messages:\"}),/*#__PURE__*/_jsx(\"ul\",{children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"li\",{children:msg},index))})]})]});}export default Chat;","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Chat","_ref","socket","room","message","setMessage","messages","setMessages","on","msg","prev","off","sendMessage","trim","emit","children","type","value","onChange","e","target","placeholder","onClick","map","index"],"sources":["C:/Users/91913/Downloads/secret-chat/frontend/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nfunction Chat({ socket, room }) {\r\n    const [message, setMessage] = useState(\"\");\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        socket.on(\"message\", (msg) => {\r\n            setMessages((prev) => [...prev, msg]);\r\n        });\r\n\r\n        return () => socket.off(\"message\");\r\n    }, [socket]);\r\n\r\n    const sendMessage = () => {\r\n        if (message.trim()) {\r\n            socket.emit(\"message\", { room, message });\r\n            setMessage(\"\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Room: {room}</h2>\r\n            <input\r\n                type=\"text\"\r\n                value={message}\r\n                onChange={(e) => setMessage(e.target.value)}\r\n                placeholder=\"Type your message\"\r\n            />\r\n            <button onClick={sendMessage}>Send</button>\r\n            <div>\r\n                <h3>Messages:</h3>\r\n                <ul>\r\n                    {messages.map((msg, index) => (\r\n                        <li key={index}>{msg}</li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEnD,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAmB,IAAlB,CAAEC,MAAM,CAAEC,IAAK,CAAC,CAAAF,IAAA,CAC1B,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACZO,MAAM,CAACM,EAAE,CAAC,SAAS,CAAGC,GAAG,EAAK,CAC1BF,WAAW,CAAEG,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAED,GAAG,CAAC,CAAC,CACzC,CAAC,CAAC,CAEF,MAAO,IAAMP,MAAM,CAACS,GAAG,CAAC,SAAS,CAAC,CACtC,CAAC,CAAE,CAACT,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAU,WAAW,CAAGA,CAAA,GAAM,CACtB,GAAIR,OAAO,CAACS,IAAI,CAAC,CAAC,CAAE,CAChBX,MAAM,CAACY,IAAI,CAAC,SAAS,CAAE,CAAEX,IAAI,CAAEC,OAAQ,CAAC,CAAC,CACzCC,UAAU,CAAC,EAAE,CAAC,CAClB,CACJ,CAAC,CAED,mBACIR,KAAA,QAAAkB,QAAA,eACIlB,KAAA,OAAAkB,QAAA,EAAI,QAAM,CAACZ,IAAI,EAAK,CAAC,cACrBJ,IAAA,UACIiB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEb,OAAQ,CACfc,QAAQ,CAAGC,CAAC,EAAKd,UAAU,CAACc,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5CI,WAAW,CAAC,mBAAmB,CAClC,CAAC,cACFtB,IAAA,WAAQuB,OAAO,CAAEV,WAAY,CAAAG,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC3ClB,KAAA,QAAAkB,QAAA,eACIhB,IAAA,OAAAgB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBhB,IAAA,OAAAgB,QAAA,CACKT,QAAQ,CAACiB,GAAG,CAAC,CAACd,GAAG,CAAEe,KAAK,gBACrBzB,IAAA,OAAAgB,QAAA,CAAiBN,GAAG,EAAXe,KAAgB,CAC5B,CAAC,CACF,CAAC,EACJ,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAxB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}